var g,aa=aa||{},k=this,ba=function(a){a=a.split(".");for(var b=k,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},ca=function(){},da=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ea=function(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length},m=function(a){return"string"==typeof a},fa=function(a){return"function"==da(a)},ga=function(a,b,c){return a.call.apply(a.bind,arguments)},ha=function(a,b,c){if(!a)throw Error();
if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return n.apply(null,arguments)},ia=Date.now||function(){return+new Date},p=function(a,b){function c(){}c.prototype=b.prototype;a.fa=b.prototype;a.prototype=
new c;a.Wa=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return n.apply(null,c)}return n(this,a)};var q=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};p(q,Error);q.prototype.name="CustomError";var ja=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ra=function(a){if(!ka.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(la,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ma,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(na,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(oa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(pa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(qa,"&#0;"));return a},la=/&/g,ma=/</g,
na=/>/g,oa=/"/g,pa=/'/g,qa=/\x00/g,ka=/[\x00&<>"']/,sa=function(a,b){return a<b?-1:a>b?1:0};var ta=function(a,b){b.unshift(a);q.call(this,ja.apply(null,b));b.shift()};p(ta,q);ta.prototype.name="AssertionError";var r=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new ta(""+d,e||[]);}},ua=function(a,b){throw new ta("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var s=Array.prototype,va=s.indexOf?function(a,b,c){r(null!=a.length);return s.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},wa=s.forEach?function(a,b,c){r(null!=a.length);s.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ya=function(a){var b;t:{b=xa;for(var c=a.length,d=m(a)?a.split(""):a,
e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break t}b=-1}return 0>b?null:m(a)?a.charAt(b):a[b]},za=function(a,b){var c=va(a,b),d;if(d=0<=c)r(null!=a.length),s.splice.call(a,c,1);return d},Aa=function(a){return s.concat.apply(s,arguments)},Ba=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Ca=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Da=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ea="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Fa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ea.length;f++)c=Ea[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var t;t:{var Ga=k.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){t=Ha;break t}}t=""}var u=function(a){return-1!=t.indexOf(a)};var Ia=u("Opera")||u("OPR"),v=u("Trident")||u("MSIE"),x=u("Gecko")&&-1==t.toLowerCase().indexOf("webkit")&&!(u("Trident")||u("MSIE")),y=-1!=t.toLowerCase().indexOf("webkit"),Ja=function(){var a=k.document;return a?a.documentMode:void 0},Ka=function(){var a="",b;if(Ia&&k.opera)return a=k.opera.version,fa(a)?a():a;x?b=/rv\:([^\);]+)(\)|;)/:v?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:y&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(t))?a[1]:"");return v&&(b=Ja(),b>parseFloat(a))?String(b):a}(),La={},z=function(a){var b;
if(!(b=La[a])){b=0;for(var c=String(Ka).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"",w=RegExp("(\\d*)(\\D*)","g"),Ta=RegExp("(\\d*)(\\D*)","g");do{var R=w.exec(h)||["","",""],F=Ta.exec(l)||["","",""];if(0==R[0].length&&0==F[0].length)break;b=sa(0==R[1].length?0:parseInt(R[1],10),0==F[1].length?0:parseInt(F[1],10))||sa(0==R[2].length,0==F[2].length)||sa(R[2],F[2])}while(0==
b)}b=La[a]=0<=b}return b},Ma=k.document,Na=Ma&&v?Ja()||("CSS1Compat"==Ma.compatMode?parseInt(Ka,10):5):void 0;!x&&!v||v&&v&&9<=Na||x&&z("1.9.1");v&&z("9");var Oa=function(a){Oa[" "](a);return a};Oa[" "]=ca;var Pa=!v||v&&9<=Na,Qa=v&&!z("9");!y||z("528");x&&z("1.9b")||v&&z("8")||Ia&&z("9.5")||y&&z("528");x&&!z("8")||v&&z("9");var Ra=function(){};Ra.prototype.ja=!1;Ra.prototype.Ca=function(){this.ja||(this.ja=!0,this.s())};Ra.prototype.s=function(){if(this.Fa)for(;this.Fa.length;)this.Fa.shift()()};var A=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.C=!1;this.va=!0};A.prototype.s=function(){};A.prototype.Ca=function(){};A.prototype.preventDefault=function(){this.defaultPrevented=!0;this.va=!1};var B=function(a,b){A.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.ga=this.state=null;a&&this.oa(a,b)};p(B,A);
B.prototype.oa=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(x){var e;t:{try{Oa(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=y||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=y||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;
this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.ga=a;a.defaultPrevented&&this.preventDefault()};
B.prototype.preventDefault=function(){B.fa.preventDefault.call(this);var a=this.ga;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Qa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};B.prototype.s=function(){};var Sa="closure_listenable_"+(1E6*Math.random()|0),Ua=function(a){try{return!(!a||!a[Sa])}catch(b){return!1}},Va=0;var Wa=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.Y=!!d;this.$=e;this.key=++Va;this.removed=this.Z=!1},Xa=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.$=null};var C=function(a){this.src=a;this.f={};this.K=0};C.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.f[f];a||(a=this.f[f]=[],this.K++);var h=Ya(a,b,d,e);-1<h?(b=a[h],c||(b.Z=!1)):(b=new Wa(b,this.src,f,!!d,e),b.Z=c,a.push(b));return b};C.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.f))return!1;var e=this.f[a];b=Ya(e,b,c,d);return-1<b?(Xa(e[b]),r(null!=e.length),s.splice.call(e,b,1),0==e.length&&(delete this.f[a],this.K--),!0):!1};
var Za=function(a,b){var c=b.type;c in a.f&&za(a.f[c],b)&&(Xa(b),0==a.f[c].length&&(delete a.f[c],a.K--))};C.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.f)if(!a||c==a){for(var d=this.f[c],e=0;e<d.length;e++)++b,Xa(d[e]);delete this.f[c];this.K--}return b};C.prototype.na=function(a,b,c,d){a=this.f[a.toString()];var e=-1;a&&(e=Ya(a,b,c,d));return-1<e?a[e]:null};
var Ya=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.Y==!!c&&f.$==d)return e}return-1};var $a="closure_lm_"+(1E6*Math.random()|0),ab={},bb=0,cb=function(a,b,c,d,e){if("array"==da(b)){for(var f=0;f<b.length;f++)cb(a,b[f],c,d,e);return null}c=db(c);if(Ua(a))a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,h=eb(a);h||(a[$a]=h=new C(a));c=h.add(b,c,!1,d,e);c.proxy||(d=fb(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(gb(b.toString()),d),bb++);a=c}return a},fb=function(){var a=hb,b=Pa?function(c){return a.call(b.src,
b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},ib=function(a,b,c,d,e){if("array"==da(b))for(var f=0;f<b.length;f++)ib(a,b[f],c,d,e);else c=db(c),Ua(a)?a.m.remove(String(b),c,d,e):a&&(a=eb(a))&&(b=a.na(b,c,!!d,e))&&jb(b)},jb=function(a){if("number"!=typeof a&&a&&!a.removed){var b=a.src;if(Ua(b))Za(b.m,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.Y):b.detachEvent&&b.detachEvent(gb(c),d);bb--;(c=eb(b))?(Za(c,a),0==c.K&&(c.src=null,
b[$a]=null)):Xa(a)}}},gb=function(a){return a in ab?ab[a]:ab[a]="on"+a},lb=function(a,b,c,d){var e=1;if(a=eb(a))if(b=a.f[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Y==c&&!f.removed&&(e&=!1!==kb(f,d))}return Boolean(e)},kb=function(a,b){var c=a.listener,d=a.$||a.src;a.Z&&jb(a);return c.call(d,b)},hb=function(a,b){if(a.removed)return!0;if(!Pa){var c=b||ba("window.event"),d=new B(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=
-1;break t}catch(h){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,l=c.length-1;!d.C&&0<=l;l--)d.currentTarget=c[l],e&=lb(c[l],f,!0,d);for(l=0;!d.C&&l<c.length;l++)d.currentTarget=c[l],e&=lb(c[l],f,!1,d)}return e}return kb(a,new B(b,this))},eb=function(a){a=a[$a];return a instanceof C?a:null},mb="__closure_events_fn_"+(1E9*Math.random()>>>0),db=function(a){r(a,"Listener can not be null.");if(fa(a))return a;r(a.handleEvent,"An object listener must have handleEvent method.");
return a[mb]||(a[mb]=function(b){return a.handleEvent(b)})};var nb="StopIteration"in k?k.StopIteration:Error("StopIteration"),ob=function(){};ob.prototype.next=function(){throw nb;};ob.prototype.Ta=function(){return this};var D=function(a,b){this.n={};this.e=[];this.T=this.d=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof D?(c=a.o(),d=a.l()):(c=Da(a),d=Ca(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};g=D.prototype;g.v=function(){return this.d};g.l=function(){pb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.n[this.e[b]]);return a};g.o=function(){pb(this);return this.e.concat()};
g.A=function(a){return E(this.n,a)};g.remove=function(a){return E(this.n,a)?(delete this.n[a],this.d--,this.T++,this.e.length>2*this.d&&pb(this),!0):!1};var pb=function(a){if(a.d!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];E(a.n,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.d!=a.e.length){for(var e={},c=b=0;b<a.e.length;)d=a.e[b],E(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}};g=D.prototype;g.get=function(a,b){return E(this.n,a)?this.n[a]:b};
g.set=function(a,b){E(this.n,a)||(this.d++,this.e.push(a),this.T++);this.n[a]=b};g.forEach=function(a,b){for(var c=this.o(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new D(this)};g.Ta=function(a){pb(this);var b=0,c=this.e,d=this.n,e=this.T,f=this,h=new ob;h.next=function(){for(;;){if(e!=f.T)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw nb;var h=c[b++];return a?h:d[h]}};return h};
var E=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var qb=function(a){if("function"==typeof a.l)return a.l();if(m(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ca(a)},rb=function(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(ea(a)||m(a))wa(a,b,void 0);else{var c;if("function"==typeof a.o)c=a.o();else if("function"!=typeof a.l)if(ea(a)||m(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Da(a);else c=void 0;for(var d=qb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],
a)}};var tb=function(a){var b;b||(b=sb(a||arguments.callee.caller,[]));return b},sb=function(a,b){var c=[];if(0<=va(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(ub(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=ub(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,
40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(sb(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},ub=function(a){if(G[a])return G[a];a=String(a);if(!G[a]){var b=/function ([^\(]+)/.exec(a);G[a]=b?b[1]:"[Anonymous]"}return G[a]},G={};var H=function(a,b,c,d,e){this.reset(a,b,c,d,e)};H.prototype.xa=null;H.prototype.wa=null;var vb=0;H.prototype.reset=function(a,b,c,d,e){"number"==typeof e||vb++;d||ia();this.t=a;this.Ra=b;delete this.xa;delete this.wa};H.prototype.Aa=function(){return this.t};H.prototype.ha=function(a){this.t=a};H.prototype.getMessage=function(){return this.Ra};var I=function(a){this.Na=a;this.I=this.la=this.t=this.aa=null},J=function(a,b){this.name=a;this.value=b};J.prototype.toString=function(){return this.name};var wb=new J("SEVERE",1E3),xb=new J("WARNING",900),yb=new J("INFO",800),zb=new J("CONFIG",700),Ab=new J("FINE",500),Bb=new J("ALL",0);I.prototype.getParent=function(){return this.aa};I.prototype.getChildren=function(){this.la||(this.la={});return this.la};I.prototype.ha=function(a){this.t=a};I.prototype.Aa=function(){return this.t};
var Cb=function(a){if(a.t)return a.t;if(a.aa)return Cb(a.aa);ua("Root logger has no level set.");return null};I.prototype.log=function(a,b,c){if(a.value>=Cb(this).value)for(fa(b)&&(b=b()),a=this.za(a,b,c,I.prototype.log),b="log:"+a.getMessage(),k.console&&(k.console.timeStamp?k.console.timeStamp(b):k.console.markTimeline&&k.console.markTimeline(b)),k.msWriteProfilerMark&&k.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.I)for(var e=0,f=void 0;f=c.I[e];e++)f(d);b=b.getParent()}};
I.prototype.za=function(a,b,c,d){a=new H(a,String(b),this.Na);if(c){a.xa=c;var e;d=d||I.prototype.za;try{var f;var h=ba("window.location.href");if(m(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var l,w;b=!1;try{l=c.lineNumber||c.Va||"Not available"}catch(Ta){l="Not available",b=!0}try{w=c.fileName||c.filename||c.sourceURL||k.$googDebugFname||h}catch(R){w="Not available",b=!0}f=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:l,fileName:w,stack:c.stack||"Not available"}}e="Message: "+ra(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+ra(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(tb(d)+"-> ")}catch(F){e="Exception trying to expose exception! You win, we lose. "+F}a.wa=e}return a};I.prototype.info=function(a,b){this.log(yb,a,b)};I.prototype.g=function(a,b){this.log(Ab,a,b)};
var Db={},Eb=null,Fb=function(a){Eb||(Eb=new I(""),Db[""]=Eb,Eb.ha(zb));var b;if(!(b=Db[a])){b=new I(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Fb(a.substr(0,c));c.getChildren()[d]=b;b.aa=c;Db[a]=b}return b};var K=function(){this.m=new C(this);this.Pa=this};p(K,Ra);K.prototype[Sa]=!0;g=K.prototype;g.ia=null;g.addEventListener=function(a,b,c,d){cb(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){ib(this,a,b,c,d)};
g.dispatchEvent=function(a){Gb(this);var b,c=this.ia;if(c){b=[];for(var d=1;c;c=c.ia)b.push(c),r(1E3>++d,"infinite loop")}c=this.Pa;d=a.type||a;if(m(a))a=new A(a,c);else if(a instanceof A)a.target=a.target||c;else{var e=a;a=new A(d,c);Fa(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.C&&0<=h;h--)f=a.currentTarget=b[h],e=Hb(f,d,!0,a)&&e;a.C||(f=a.currentTarget=c,e=Hb(f,d,!0,a)&&e,a.C||(e=Hb(f,d,!1,a)&&e));if(b)for(h=0;!a.C&&h<b.length;h++)f=a.currentTarget=b[h],e=Hb(f,d,!1,a)&&e;return e};
g.s=function(){K.fa.s.call(this);this.m&&this.m.removeAll(void 0);this.ia=null};g.listen=function(a,b,c,d){Gb(this);return this.m.add(String(a),b,!1,c,d)};var Hb=function(a,b,c,d){b=a.m.f[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.Y==c){var l=h.listener,w=h.$||h.src;h.Z&&Za(a.m,h);e=!1!==l.call(w,d)&&e}}return e&&!1!=d.va};K.prototype.na=function(a,b,c,d){return this.m.na(String(a),b,c,d)};var Gb=function(a){r(a.m,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var L=function(a,b){a&&a.g(b,void 0)};var Ib=function(a,b,c){if(fa(a))c&&(a=n(a,c));else if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:k.setTimeout(a,b||0)};var Jb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Lb=function(a){if(Kb){Kb=!1;var b=k.location;if(b){var c=b.href;if(c&&(c=(c=Lb(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Kb=!0,Error();}}return a.match(Jb)},Kb=y;var Mb=function(){};Mb.prototype.Ba=null;var Ob=function(a){var b;(b=a.Ba)||(b={},Nb(a)&&(b[0]=!0,b[1]=!0),b=a.Ba=b);return b};var Pb,Qb=function(){};p(Qb,Mb);var Rb=function(a){return(a=Nb(a))?new ActiveXObject(a):new XMLHttpRequest},Nb=function(a){if(!a.Da&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Da=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Da};Pb=new Qb;var M=function(a){K.call(this);this.headers=new D;this.S=a||null;this.p=!1;this.N=this.b=null;this.D=this.pa=this.O="";this.r=this.ba=this.M=this.ca=!1;this.F=0;this.P=null;this.qa="";this.R=this.Ga=!1};p(M,K);var Sb=M.prototype,Tb=Fb("goog.net.XhrIo");Sb.a=Tb;var Ub=/^https?$/i,Vb=["POST","PUT"],Wb=[];M.prototype.Oa=function(){this.Ca();za(Wb,this)};
M.prototype.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.O+"; newUri="+a);b=b?b.toUpperCase():"GET";this.O=a;this.D="";this.pa=b;this.ca=!1;this.p=!0;this.b=this.S?Rb(this.S):Rb(Pb);this.N=this.S?Ob(this.S):Ob(Pb);this.b.onreadystatechange=n(this.ra,this);try{L(this.a,N(this,"Opening Xhr")),this.ba=!0,this.b.open(b,String(a),!0),this.ba=!1}catch(e){L(this.a,N(this,"Error opening Xhr: "+e.message));Xb(this,e);return}a=c||"";var f=this.headers.clone();
d&&rb(d,function(a,b){f.set(b,a)});d=ya(f.o());c=k.FormData&&a instanceof k.FormData;!(0<=va(Vb,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.qa&&(this.b.responseType=this.qa);"withCredentials"in this.b&&(this.b.withCredentials=this.Ga);try{Yb(this),0<this.F&&(this.R=Zb(this.b),L(this.a,N(this,"Will abort after "+this.F+"ms if incomplete, xhr2 "+this.R)),this.R?(this.b.timeout=this.F,this.b.ontimeout=
n(this.sa,this)):this.P=Ib(this.sa,this.F,this)),L(this.a,N(this,"Sending request")),this.M=!0,this.b.send(a),this.M=!1}catch(h){L(this.a,N(this,"Send error: "+h.message)),Xb(this,h)}};var Zb=function(a){return v&&z(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout},xa=function(a){return"content-type"==a.toLowerCase()};M.prototype.sa=function(){"undefined"!=typeof aa&&this.b&&(this.D="Timed out after "+this.F+"ms, aborting",L(this.a,N(this,this.D)),this.dispatchEvent("timeout"),this.abort(8))};
var Xb=function(a,b){a.p=!1;a.b&&(a.r=!0,a.b.abort(),a.r=!1);a.D=b;$b(a);ac(a)},$b=function(a){a.ca||(a.ca=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};M.prototype.abort=function(){this.b&&this.p&&(L(this.a,N(this,"Aborting")),this.p=!1,this.r=!0,this.b.abort(),this.r=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ac(this))};M.prototype.s=function(){this.b&&(this.p&&(this.p=!1,this.r=!0,this.b.abort(),this.r=!1),ac(this,!0));M.fa.s.call(this)};
M.prototype.ra=function(){this.ja||(this.ba||this.M||this.r?bc(this):this.Qa())};M.prototype.Qa=function(){bc(this)};
var bc=function(a){if(a.p&&"undefined"!=typeof aa)if(a.N[1]&&4==O(a)&&2==a.getStatus())L(a.a,N(a,"Local request error detected and ignored"));else if(a.M&&4==O(a))Ib(a.ra,0,a);else if(a.dispatchEvent("readystatechange"),4==O(a)){L(a.a,N(a,"Request complete"));a.p=!1;try{var b=a.getStatus(),c,d;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break t;default:d=!1}if(!(c=d)){var e;if(e=0===b){var f=Lb(String(a.O))[1]||null;if(!f&&self.location)var h=self.location.protocol,
f=h.substr(0,h.length-1);e=!Ub.test(f?f.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var l;try{l=2<O(a)?a.b.statusText:""}catch(w){L(a.a,"Can not get status: "+w.message),l=""}a.D=l+" ["+a.getStatus()+"]";$b(a)}}finally{ac(a)}}},ac=function(a,b){if(a.b){Yb(a);var c=a.b,d=a.N[0]?ca:null;a.b=null;a.N=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.a)&&c.log(wb,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},
Yb=function(a){a.b&&a.R&&(a.b.ontimeout=null);"number"==typeof a.P&&(k.clearTimeout(a.P),a.P=null)},O=function(a){return a.b?a.b.readyState:0};M.prototype.getStatus=function(){try{return 2<O(this)?this.b.status:-1}catch(a){return-1}};var N=function(a,b){return b+" ["+a.pa+" "+a.O+" "+a.getStatus()+"]"};var cc=function(a){this.L=0;this.ma=a||100;this.u=[]};g=cc.prototype;g.add=function(a){var b=this.u[this.L];this.u[this.L]=a;this.L=(this.L+1)%this.ma;return b};g.get=function(a){a=dc(this,a);return this.u[a]};g.set=function(a,b){a=dc(this,a);this.u[a]=b};g.v=function(){return this.u.length};g.l=function(){for(var a=this.v(),b=this.v(),c=[],a=this.v()-a;a<b;a++)c.push(this.get(a));return c};g.o=function(){for(var a=[],b=this.v(),c=0;c<b;c++)a[c]=c;return a};g.A=function(a){return a<this.v()};
var dc=function(a,b){if(b>=a.u.length)throw Error("Out of bounds exception");return a.u.length<a.ma?b:(a.L+Number(b))%a.ma};var P=function(a,b){var c;if(a instanceof P)this.h=void 0!==b?b:a.h,ec(this,a.B),c=a.X,Q(this),this.X=c,c=a.J,Q(this),this.J=c,fc(this,a.k),c=a.W,Q(this),this.W=c,gc(this,a.q.clone()),c=a.V,Q(this),this.V=c;else if(a&&(c=Lb(String(a)))){this.h=!!b;ec(this,c[1]||"",!0);var d=c[2]||"";Q(this);this.X=d?decodeURIComponent(d):"";d=c[3]||"";Q(this);this.J=d?decodeURIComponent(d):"";fc(this,c[4]);d=c[5]||"";Q(this);this.W=d?decodeURIComponent(d):"";gc(this,c[6]||"",!0);c=c[7]||"";Q(this);this.V=c?decodeURIComponent(c):
""}else this.h=!!b,this.q=new S(null,0,this.h)};g=P.prototype;g.B="";g.X="";g.J="";g.k=null;g.W="";g.V="";g.Ua=!1;g.h=!1;g.toString=function(){var a=[],b=this.B;b&&a.push(T(b,hc),":");if(b=this.J){a.push("//");var c=this.X;c&&a.push(T(c,hc),"@");a.push(encodeURIComponent(String(b)));b=this.k;null!=b&&a.push(":",String(b))}if(b=this.W)this.J&&"/"!=b.charAt(0)&&a.push("/"),a.push(T(b,"/"==b.charAt(0)?ic:jc));(b=this.q.toString())&&a.push("?",b);(b=this.V)&&a.push("#",T(b,kc));return a.join("")};
g.clone=function(){return new P(this)};var ec=function(a,b,c){Q(a);a.B=c?b?decodeURIComponent(b):"":b;a.B&&(a.B=a.B.replace(/:$/,""))},fc=function(a,b){Q(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.k=b}else a.k=null},gc=function(a,b,c){Q(a);b instanceof S?(a.q=b,a.q.ka(a.h)):(c||(b=T(b,lc)),a.q=new S(b,0,a.h))},U=function(a,b,c){Q(a);a.q.set(b,c)},Q=function(a){if(a.Ua)throw Error("Tried to modify a read-only Uri");};
P.prototype.ka=function(a){this.h=a;this.q&&this.q.ka(a);return this};
var T=function(a,b){return m(a)?encodeURI(a).replace(b,mc):null},mc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},hc=/[#\/\?@]/g,jc=/[\#\?:]/g,ic=/[\#\?]/g,lc=/[\#\?@]/g,kc=/#/g,S=function(a,b,c){this.j=a||null;this.h=!!c},W=function(a){if(!a.c&&(a.c=new D,a.d=0,a.j))for(var b=a.j.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=V(a,e);a.add(e,
f?decodeURIComponent(f.replace(/\+/g," ")):"")}};g=S.prototype;g.c=null;g.d=null;g.v=function(){W(this);return this.d};g.add=function(a,b){W(this);this.j=null;a=V(this,a);var c=this.c.get(a);c||this.c.set(a,c=[]);c.push(b);this.d++;return this};g.remove=function(a){W(this);a=V(this,a);return this.c.A(a)?(this.j=null,this.d-=this.c.get(a).length,this.c.remove(a)):!1};g.A=function(a){W(this);a=V(this,a);return this.c.A(a)};
g.o=function(){W(this);for(var a=this.c.l(),b=this.c.o(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.l=function(a){W(this);var b=[];if(m(a))this.A(a)&&(b=Aa(b,this.c.get(V(this,a))));else{a=this.c.l();for(var c=0;c<a.length;c++)b=Aa(b,a[c])}return b};g.set=function(a,b){W(this);this.j=null;a=V(this,a);this.A(a)&&(this.d-=this.c.get(a).length);this.c.set(a,[b]);this.d++;return this};g.get=function(a,b){var c=a?this.l(a):[];return 0<c.length?String(c[0]):b};
g.toString=function(){if(this.j)return this.j;if(!this.c)return"";for(var a=[],b=this.c.o(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.l(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.j=a.join("&")};g.clone=function(){var a=new S;a.j=this.j;this.c&&(a.c=this.c.clone(),a.d=this.d);return a};var V=function(a,b){var c=String(b);a.h&&(c=c.toLowerCase());return c};
S.prototype.ka=function(a){a&&!this.h&&(W(this),this.j=null,this.c.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.j=null,this.c.set(V(this,d),Ba(a)),this.d+=a.length))},this));this.h=a};var X=function(){this.La=new cc(100);this.a=Fb("hotword.Logger");this.a.ha(Bb);var a=this.a,b=n(this.Ma,this);a.I||(a.I=[]);a.I.push(b);this.ua={};this.U={}};X.Ia=function(){return X.Ea?X.Ea:X.Ea=new X};X.prototype.Ma=function(a){a.Aa().value>=Ab.value&&this.La.add(a.getMessage())};
var nc=function(a,b,c,d){var e=new P("https://www.google.com/gen_204");U(e,"atyp","i");U(e,"ct","chw");U(e,"cd",b);U(e,"cad",c);chrome&&chrome.app&&chrome.app.getDetails&&chrome.app.getDetails()&&U(e,"chwv",chrome.app.getDetails().version);b="stats-"+c;b in a.U?a.U[b]++:a.U[b]=1;c=parseInt(window.localStorage.getItem(b),10);isNaN(c)?c=1:c++;window.localStorage.setItem(b,""+c);a.ua[b]=c;U(e,"chwls",a.U[b]);U(e,"chwgs",a.ua[b]);for(var f in d)U(e,f,d[f]);window.ya&&window.ya.kEI&&U(e,"ei",window.ya.kEI);
U(e,"zx",(new Date).getTime());a=new M;Wb.push(a);a.m.add("ready",a.Oa,!0,void 0,void 0);a.send(e,void 0,void 0,void 0)};X.prototype.g=function(a){this.a.g(a)};var Y=function(){this.ea=null;this.da=0;this.G=!1;this.k=null;this.a=X.Ia();this.i=this.ta=null},oc=function(a){a.ea?a.da=0:window.setTimeout(n(a.Sa,a),2E3)};Y.prototype.Sa=function(){var a=document;(this.ea=m("spch")?a.getElementById("spch"):"spch")?this.da=0:3>this.da++?(Z(this,"vt"),oc(this)):$(this,"ac1")};var pc=function(a,b){a.a.g("Checking UI: "+b);a.i[b].w=window.setTimeout(n(a.Ka,a,b),2E3)};
Y.prototype.Ka=function(a){this.a.g("Failed UI check: "+a+"times:"+this.i[a].H);3>this.i[a].H++?(Z(this,a),pc(this,a)):$(this,this.i[a].error)};var qc=function(a,b){a.a.g("Verifying UI: "+b);if(a.i[b].w){window.clearTimeout(a.i[b].w);a.i[b].w=null;a.i[b].H=0;var c={};c.chwui=b;var d=a.a;d.a.info("UI shown:"+b);nc(d,"n","cus",c)}},$=function(a,b){a.k&&(a.a.g("Sending to extension: "+b),a.k.postMessage({cmd:b}))};
Y.prototype.Ja=function(a){a=a.cmd;this.a.g("From extension: "+a);if(a)switch(a){case "vt":Z(this,a);oc(this);break;case "hs":Z(this,a);pc(this,"hs");break;case "hd":Z(this,"hd");break;case "ht":Z(this,a);pc(this,a);break;case "he":Z(this,a),pc(this,a)}};var Z=function(a,b){a.a.g("Sending to page: "+b);window.postMessage({type:b},"*")};
Y.prototype.Ha=function(a){a=a.ga;if(a.source==window&&a.data.type)switch(a=a.data.type,this.a.g("From page: "+a),a){case "ss":this.G=!0;$(this,a);break;case "se":this.G=!1;$(this,a);break;case "sr":this.G=!1;$(this,a);break;case "SPEECH_RESET":this.G=!1;$(this,"se");break;case "hcc":$(this,a);break;case "hcr":$(this,a);break;case "hcd":window.open("https://support.google.com/chrome/?p=ui_hotword_search","_blank");break;case "shs":qc(this,"hs");break;case "sem":qc(this,"he");break;case "stm":qc(this,
"ht")}};Y.prototype.oa=function(){if("chwace"in window){var a=this.a;a.a.info("Ignore injected client script.");nc(a,"n","cr",void 0)}else window.chwace=!0,this.a.g("Audio client init"),this.i={},this.i.hs={w:null,H:0,error:"ac2"},this.i.ht={w:null,H:0,error:"ac3"},this.i.he={w:null,H:0,error:"ac4"},this.ta=cb(window,"message",n(this.Ha,this)),rc(this)};
var rc=function(a){a.a.g("Audio client port init");a.k=chrome.runtime.connect({name:"chwcpn"});a.k.onDisconnect.addListener(n(function(){var a=this.a;a.a.log(xb,"Extension disconnected.",void 0);nc(a,"w","cpd",void 0);jb(this.ta);delete window.chwace;this.a.g("Client destroyed.")},a));a.k.onMessage.addListener(n(a.Ja,a));a.G&&$(a,"ss")};chrome&&chrome.runtime&&(new Y).oa();
